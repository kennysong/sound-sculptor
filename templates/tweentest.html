<!DOCTYPE html>
<html>
<head>
  <title>EaselJS Example: Rollovers and Drag & Drop</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link href="../static/css/bootstrap.css" rel="stylesheet">
  <link href="../static/css/main.css" rel="stylesheet">
  <style>
    body {
      padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
    }
  </style>

  <script type="text/javascript" src="http://code.createjs.com/easeljs-0.5.0.min.js"></script>
  <script type="text/javascript" src="http://code.createjs.com/tweenjs-0.3.0.min.js"></script>
  <!--<script type="text/javascript" src="../src/tweenjs/Tween.js"></script>
  <script type="text/javascript" src="../src/tweenjs/Ease.js"></script>-->

  <!-- We also provide hosted minified versions of all CreateJS libraries.
    http://code.createjs.com -->

    <script>
        var canvas;
        var stage;
        var tweens;
        var activeCount;
        var circleCount = 20;
        var text;

        function init() {
          if (window.top != window) {
                document.getElementById("header").style.display = "none";
            }

          canvas = document.getElementById("testCanvas");
          stage = new createjs.Stage(canvas);
          tweens = [];
          stage.enableMouseOver(10);
          createjs.Touch.enable(stage);

          for (var i=0; i<circleCount; i++) {
              // draw the circle, and put it on stage:
              var circle = new createjs.Shape();
              circle.graphics.setStrokeStyle(15);
              circle.graphics.beginStroke("#113355");
              circle.graphics.drawCircle(0,0,(i+1)*4);
              circle.alpha = 1-i*0.02;
              circle.x = Math.random()*550;
              circle.y = Math.random()*400;
              circle.compositeOperation = "lighter";

              var tween = createjs.Tween.get(circle).to({x:275,y:200}, (0.5+i*0.12)*1000, createjs.Ease.elasticOut).call(tweenComplete);
              tweens.push({tween:tween, ref:circle});
              stage.addChild(circle);
          }
          activeCount = circleCount;
          stage.onMouseMove = handleMouseUp;

          text = new createjs.Text("Click Anywhere to Tween", "36px Arial", "#777");
          text.x = 350;
          text.y = 200;
          stage.addChild(text);

          createjs.Ticker.addListener(window);
        }


        function handleMouseUp(event) {
          if (text) {
            stage.removeChild(text);
            text = null;
          }
            for (var i=0; i<circleCount; i++) {
                var ref = tweens[i].ref;
                var tween = tweens[i].tween;
                createjs.Tween.get(ref,{override:true}).to({x:stage.mouseX,y:stage.mouseY}, (0.5+i*0.12)*1000, createjs.Ease.elasticOut).call(tweenComplete);
            }
            activeCount = circleCount;
        }

        function tweenComplete() {
            activeCount--;
        }

        function tick() {
            if (activeCount) { stage.update(); }
        }


    </script>
</head>
<body onload="init();">

  <header id="header" class="TweenJS">
      <h1><span class="text-product">Tween<strong>JS</strong></span> CSS Plugin Example</h1>
      <p>This example shows how a plugin can be used to override values in TweenJS. The CSSPlugin ensures the CSS position and size parameters all receive the "px" suffix required by CSS.</p>
  </header>

    <canvas id="testCanvas" width="960" height="400" style="background: #333333;"></canvas>

</body>
</html>